<% render_title "#{@book.name} | #{@reading_log.name}" %>

<%= render(BackButtonComponent.new(title: "Reading Log", path: reading_log_path(@reading_log))) do |c| %>
  <%= c.with_middle_content do %>
    <h1 class="text-xl font-semibold">Chapters</h1>
    <%= render "books/book_card_chapters", book: @book %>
    <%# if @book.completed? %>
<!--      <div class="mt-0.5 flex items-center space-x-1.5 text-base font-medium text-emerald-700 bg-emerald-100   py-1 px-3 rounded-lg">
        <svg class="w-5 h-5 stroke-emerald-700" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
        <span>Completed</span>
      </div>
    <%# else %>-->
<!--      <div class="mt-0.5 flex items-center space-x-1.5 text-base font-medium text-yellow-800 bg-yellow-100   py-1 px-3 rounded-lg">
        <svg class="w-5 h-5 stroke-yellow-700" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-dashed"><path d="M10.1 2.182a10 10 0 0 1 3.8 0"/><path d="M13.9 21.818a10 10 0 0 1-3.8 0"/><path d="M17.609 3.721a10 10 0 0 1 2.69 2.7"/><path d="M2.182 13.9a10 10 0 0 1 0-3.8"/><path d="M20.279 17.609a10 10 0 0 1-2.7 2.69"/><path d="M21.818 10.1a10 10 0 0 1 0 3.8"/><path d="M3.721 6.391a10 10 0 0 1 2.7-2.69"/><path d="M6.391 20.279a10 10 0 0 1-2.69-2.7"/></svg>
        <span>In Progress</span>
      </div>
    <%# end %>-->
  <% end %>
<% end %>
<%= render(CardWrapperComponent.new(custom_classes: "mb-8")) do %>
<div class="mx-auto max-w-2xl">
  <%= turbo_frame_tag completed_banner_turbo_frame_id do %>
    <% if @book.completed? %>
      <%= render "book_completed_banner" %>
    <% end %>
  <% end %>
</div>
  <div class="mx-auto">
    <div class="flex flex-col">
      <div class="mb-3 space-x-3 flex justify-between items-center">
        <%= render(HeadingComponent.new(title: @book.name)) %>
        <%= render "books/book_card_percentage", book: @book %>
      </div>
      <%= render "books/book_progress_line", book: @book %>
      <div class="mt-8 max-w-2xl mx-auto w-full flex-1">
        <div class="grid grid-cols-4 xs:grid-cols-5 sm:grid-cols-6 lg:grid-cols-7 gap-3">
          <% @book.chapters_data.each do |chapter_data| %>
            <%= render "book_chapter_square", book: @book, chapter_data: chapter_data %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>
