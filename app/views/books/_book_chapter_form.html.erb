<% has_chapter = book.chapters.any? {|chapter| chapter.chapter_number == chapter_number } %>
<%= form_with url: book_toggle_chapter_path(book), method: :patch, class: "inline-block", id: "book-#{book.i}-#{chapter_number}" do |form| %>
  <%= form.hidden_field :chapter_number, value: chapter_number %>
  <%= form.hidden_field :is_completed, value: chapter_data["completed_at"].present? %>
  <%= form.submit chapter_number, class: "cursor-pointer #{'bg-gray-800 !border-gray-800 text-white' if has_chapter} text-center h-[50px] w-[50px] text-lg font-medium mb-3 mr-2 p-1 border border-gray-500 rounded inline-block" %>
<% end %>